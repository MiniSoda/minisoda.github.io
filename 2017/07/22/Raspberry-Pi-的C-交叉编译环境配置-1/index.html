<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MiniSoda&#39;s Blog</title>
  <meta name="author" content="George Zheng">

  
  <meta name="description" content="Raspberry Pi 的C++交叉编译环境配置 (1)标签： RPi Ubuntu C++ VSCODE

最近因为工作需要，正在学习配置Raspberry Pi的交叉编译环境。公司有一套基于Windows的程序准备移植到树莓派上，而自己本来是做Windows下的C++开发工作，因此选择界面比较">
  
  

  <link rel="alternate" href="/atom.xml" title="MiniSoda&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><nav>
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
</nav></header>
  <div id="content" class="inner"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <header>
    
  
    <h1 class="title"></h1>
  

    <time datetime="2017-07-21T16:05:30.467Z">
  <span class="day">22</span><span class="month">Jul</span>
</time>
  </header>
  <div class="entry-content">
    
      <h1 id="Raspberry-Pi-的C-交叉编译环境配置-1"><a href="#Raspberry-Pi-的C-交叉编译环境配置-1" class="headerlink" title="Raspberry Pi 的C++交叉编译环境配置 (1)"></a>Raspberry Pi 的C++交叉编译环境配置 (1)</h1><p>标签： RPi Ubuntu C++ VSCODE</p>
<hr>
<p>最近因为工作需要，正在学习配置Raspberry Pi的交叉编译环境。公司有一套基于Windows的程序准备移植到树莓派上，而自己本来是做Windows下的C++开发工作，因此选择界面比较友好的Ubuntu作为操作系统、VSCODE作为编辑器来进行开发工作，毕竟M$大法好。</p>
<p>这一系列博客将会按照下图的结构来展开：</p>
<p><img src="/2017/07/22/Raspberry-Pi-的C-交叉编译环境配置-1/RPi的交叉编译环境.png" alt="RPi的交叉编译环境"></p>
<p>工欲善其事，必先利其器。今天某宝买的Raspberry Pi 3B到货，记录一下交叉编译环境搭建的过程。我们会用到以下工具：</p>
<ul>
<li>Ubuntu虚机或物理机</li>
<li><a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="external">树莓派操作系统</a></li>
<li><a href="https://github.com/raspberrypi/tools" target="_blank" rel="external">树莓派交叉编译工具链</a></li>
<li><a href="https://code.visualstudio.com/" target="_blank" rel="external">M$家的VSCODE</a></li>
</ul>
<p>Ubuntu虚机和树莓派的系统有很多教程都很详细，我这里用的是Ubuntu 16.04LTS 和 RASPBIAN JESSIE WITH DESKTOP with Kernel version: <strong>4.9</strong></p>
<p>首先是安装交叉编译工具链到Ubuntu，打开Terminal在家目录下执行以下操作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir tools</div><div class="line">git <span class="built_in">clone</span> https://github.com/raspberrypi/tools.git tools</div></pre></td></tr></table></figure>
<p>这个命令会到 raspberrypi 的官方repo去下载工具，时间取决于网络情况。</p>
<p>下载完成后进入 $HOME/tools/arm-bcm2708 目录</p>
<p>在 arm-bcm2708目录下有以下目录， 每个都是一个单独的工具链:</p>
<ol>
<li>arm-bcm2708-linux-gnueabi</li>
<li>arm-bcm2708hardfp-linux-gnueabi</li>
<li>gcc-linaro-arm-linux-gnueabihf-raspbian</li>
<li>gcc-linaro-arm-linux-gnueabihf-raspbian-x64</li>
</ol>
<p>由于我用的是64为操作系统，所以需要把 4 指向的目录添加到 .bashrc 中。注意，/home/zheng是我自己的用户路径，这里要替换成你自己的路径。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">vi ~/.bashrc</div><div class="line"><span class="comment">#添加以下内容到文件末尾</span></div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/zheng/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin</div><div class="line"><span class="built_in">source</span> .bashrc</div></pre></td></tr></table></figure>
<p>通过 source .bashrc更新terminal的环境变量</p>
<p>接下来执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arm-linux-gnueabihf-gcc -v</div></pre></td></tr></table></figure>
<p>如果看到这样的输出，就说明配置交叉编译工具成功了</p>
<p><img src="/2017/07/22/Raspberry-Pi-的C-交叉编译环境配置-1/terminal-snapshot.jpg" alt="控制台截图"></p>
<p>今天就先写到这里，下回继续.</p>

    
    
    <footer class="meta">
      
      
      
    </footer>
    
  </div>
  
</article></div>
  <footer id="footer" class="inner"><div class="social alignright">
  
  
  
  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
</div>
<p>
  
  &copy; 2017 George Zheng
  
</p>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id="phasebeam">
  <canvas></canvas>
  <canvas></canvas>
  <canvas></canvas>
</div>
<script src="/js/phasebeam.js"></script>
</body>
</html>